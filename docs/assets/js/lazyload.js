/*! lazyload - v2.1.1 - 2018-04-01
 * https://github.com/13twelve/lazyload
 * Copyright (c) 2018
 * License: MIT
 * Author: Mike Byrne @13twelve https://github.com/13twelve
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.lazyLoad=t()}(this,function(){function e(e){var t=[],n=0;for(t=[],n=e.length;n;)t[--n]=e[n];return t}function t(e){var t=(e="SOURCE"===e.tagName?e.parentNode:e).getBoundingClientRect();return t.bottom>0&&t.right>0&&t.left<(window.innerWidth||document.documentElement.clientWidth)&&t.top<(window.innerHeight||document.documentElement.clientHeight)}function n(e){e.removeAttribute("data-src"),e.removeAttribute("data-srcset"),e.removeAttribute("data-lazyload")}function a(){this.removeEventListener("load",a),n(this)}function r(e){var t=e.getAttribute("data-srcset"),r=e.getAttribute("data-src"),o=null!==e.getAttribute("data-lazyload");t&&(e.setAttribute("srcset",t),window.picturefill&&window.picturefill({elements:[e]})),r&&(e.src=r),o&&(e.setAttribute("data-lazyloaded",""),e.removeEventListener("load",a),n(e))}function o(e){0===s&&u.disconnect();for(var t=0;t<e.length;t++){var n=e[t];n.intersectionRatio>0&&(s--,u.unobserve(n.target),n.target.addEventListener("load",a,!1),r(n.target))}}function d(){var e;if("really-old"===f){for(s=g.length,e=0;e<s;e++)g[e]&&(r(g[e]),n(g[e]));g=[]}else if("old"===f){if(c===m.maxFrameCount){for(s=g.length,e=0;e<s;e++)if(g[e]&&g[e].lazyloaded===undefined&&t(g[e])){var i=g[e];g[e]=undefined,i.lazyloaded=!0,i.addEventListener("load",a,!1),r(i)}for(e=0;e<s;e++)g[e]===undefined&&g.splice(e,1);s=g.length,c=-1}s>0&&(c++,l=window.requestAnimationFrame(d))}else if("new"===f)for(u=new IntersectionObserver(o,{rootMargin:m.rootMargin,threshold:m.threshold}),s=g.length,e=0;e<s;e++)g[e]&&g[e].lazyloaded===undefined&&u.observe(g[e])}function i(){if("old"===f)try{cancelAnimationFrame(l)}catch(t){}else if("new"===f)try{u.disconnect()}catch(t){}g=e(document.querySelectorAll(m.elements)),s=g.length,c=m.maxFrameCount,d()}var l,c,s,u,f,m={pageUpdatedEventName:"page:updated",elements:"img[data-src], img[data-srcset], source[data-srcset], iframe[data-src], video[data-src], [data-lazyload]",rootMargin:"0px",threshold:0,maxFrameCount:10},g=[];return function(e){for(var t in e)e.hasOwnProperty(t)&&(m[t]=e[t]);f="addEventListener"in window&&window.requestAnimationFrame&&typeof document.body.getBoundingClientRect!==undefined?"IntersectionObserver"in window?"new":"old":"really-old",i(),m.pageUpdatedEventName&&document.addEventListener(m.pageUpdatedEventName,i,!0)}}),lazyLoad();